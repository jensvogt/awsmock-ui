<mat-card appearance="outlined" style="margin: 3px;">
    <mat-card-header>
        <span>
            <button (click)="back()" aria-label="Back" class="head-buttons-left" mat-icon-button>
                <mat-icon>arrow_back</mat-icon>
            </button>
        </span>
        <span class="fill-remaining-space">
            <h4>Queue: {{ (queueDetails$ | async)?.queueName }}</h4>
        </span>
        <span>
            <button (click)="refresh()" aria-label="Refresh" mat-icon-button>
                <mat-icon>refresh</mat-icon>
            </button>
        </span>
    </mat-card-header>
    <mat-card appearance="outlined" style="margin: 3px;">
        <mat-card-header>
            <mat-card-title>Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div *ngIf="(queueDetails$ | async) as queueDetails">
                <mat-grid-list cols="6">
                    <mat-grid-tile [colspan]="3" [rowspan]="1">
                        <mat-list>
                            <mat-list-item>
                                <span matListItemTitle>Name: </span>
                                <span matListItemLine>{{ queueDetails.queueName }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>ARN: </span>
                                <span matListItemLine>{{ queueDetails.queueArn }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>URL: </span>
                                <span matListItemLine>{{ queueDetails.queueUrl }}</span>
                            </mat-list-item>
                        </mat-list>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="1" [rowspan]="1">
                        <mat-list>
                            <mat-list-item>
                                <span matListItemTitle>Visibility Timeout (s): </span>
                                <span matListItemLine>{{ queueDetails.visibilityTimeout }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>Delay (s): </span>
                                <span matListItemLine>{{ queueDetails.delay }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>Max Message Size (kB): </span>
                                <span matListItemLine>{{ queueDetails.maxMessageSize / 1024 }}</span>
                            </mat-list-item>
                        </mat-list>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="1" [rowspan]="1">
                        <mat-list>
                            <mat-list-item>
                                <span matListItemTitle>Retention Period (s): </span>
                                <span matListItemLine>{{ queueDetails.retentionPeriod }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>Message Count: </span>
                                <span matListItemLine>{{ queueDetails.messageCount }}</span>
                            </mat-list-item>
                            <mat-list-item>
                                <span matListItemTitle>Total Size (kB): </span>
                                <span matListItemLine>{{ (queueDetails.size / 1024).toFixed(0) }}</span>
                            </mat-list-item>
                        </mat-list>
                    </mat-grid-tile>
                    <mat-grid-tile [colspan]="1" [rowspan]="1">
                        <div style="width: 100%; display: flex; align-items: flex-start;align-content:flex-start">
                            <mat-list>
                                <mat-list-item>
                                    <span matListItemTitle>Created: </span>
                                    <span matListItemLine>{{ queueDetails.created | date: 'yyyy-MM-dd HH:mm:ss' }}</span>
                                </mat-list-item>
                                <mat-list-item>
                                    <span matListItemTitle>Modified: </span>
                                    <span matListItemLine>{{ queueDetails.modified|date: 'yyyy-MM-dd HH:mm:ss' }}</span>
                                </mat-list-item>
                                <mat-list-item>
                                </mat-list-item>
                            </mat-list>
                        </div>
                    </mat-grid-tile>
                </mat-grid-list>
            </div>
        </mat-card-content>
    </mat-card>
    <mat-card appearance="outlined" style="margin-top: 5px;">
        <mat-card-header>
            <mat-card-title>Attributes</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <mat-tab-group>
                <mat-tab label="Attributes">
                    <mat-grid-list cols="1">
                        <mat-grid-tile [colspan]="1" [rowspan]="1">
                            <mat-list>
                                <mat-list-item>
                                    <span matListItemTitle>Available: </span>
                                    <span matListItemLine>{{ (queueDetails$ | async)?.available }}</span>
                                </mat-list-item>
                                <mat-list-item>
                                    <span matListItemTitle>Invisible: </span>
                                    <span matListItemLine>{{ (queueDetails$ | async)?.invisible }}</span>
                                </mat-list-item>
                                <mat-list-item>
                                    <span matListItemTitle>Delayed: </span>
                                    <span matListItemLine>{{ (queueDetails$ | async)?.delayed }}</span>
                                </mat-list-item>
                            </mat-list>
                        </mat-grid-tile>
                    </mat-grid-list>
                </mat-tab>
                <mat-tab label="Tags">
                    Tags
                </mat-tab>
                <mat-tab label="Access Policy">
                </mat-tab>
            </mat-tab-group>
        </mat-card-content>
    </mat-card>
    <mat-card-actions align="end">
        <button (click)=close() mat-button>Close</button>
        <button (click)=save() mat-button>Save</button>
    </mat-card-actions>
    <div class="footer">
        Last update: {{ lastUpdate | date: 'HH:mm:ss' }}
    </div>
</mat-card>
